<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/output.css" />
    <script
      src="https://kit.fontawesome.com/713c9e8f48.js"
      crossorigin="anonymous"
    ></script>
    <title>Customer Profile Page</title>
  </head>
  <body class="bg-pink-200 p-23">
    <%- include('layouts/header'); -%> <%- include('layouts/footer'); -%>

    <% if (successMessage || error) { %>
      <div id="flash-messages"
        class="fixed top-0 left-0 right-0 mt-4 mx-auto w-11/12 z-50">
        <% if (successMessage) { %>
          <div class="flash-success bg-green-500 text-white text-center py-2 mb-4">
            <%= successMessage %>
          </div>
        <% } %>
        <% if (error) { %>
        <div class="flash-error bg-red-500 text-white text-center py-2 mb-4">
          <%= error %>
        </div>
        <% } %>
      </div>
    <% } %>
    <div class="flex lg:flex-row sm:flex-col justify-between">
    <div class="flex flex-row justify-center items-center shadow-lg bg-white p-6 w-200 h-120 mt-4 rounded-2xl">
      <div class="basis-1/3 p-6">
        <img src="<%= customer.profilePicture ? customer.profilePicture : '/img/profile.png' %>" alt="Profile Picture" />
        <h2 class="mt-3"><strong class="text-pink-600"><%= customer.name %></strong></h2>
      </div>
      <div class="basis-2/3 p-6">
        <p><strong class="text-pink-500">Email: </strong> <span><%= customer.email %></span></p>
        <p class="mt-2">
          <strong class="text-pink-500">Phone Number: </strong> <span><%= customer.phoneNumber %></span>
        </p>
        <p class="mt-2"><strong class="text-pink-500">Location: </strong><span><%= customer.location %></span></p>
        
        <form action="/customer/update" method="POST" class="mt-4">
          <input type="text" name="name" placeholder="Update Name" class="border w-full text-base px-2 py-1 mb-2" value="<%= customer.name %>">
          <input type="text" name="email" placeholder="Update Email" class="border w-full text-base px-2 py-1 mb-2" value="<%= customer.email %>">
          <input type="text" name="phoneNumber" placeholder="Update Phone Number" class="border w-full text-base px-2 py-1 mb-2" value="<%= customer.phoneNumber %>">
          <input type="text" name="location" placeholder="Update Location" class="border w-full text-base px-2 py-1 mb-2" value="<%= customer.location %>">
          <button type="submit" class="bg-pink-400 text-white py-1 px-3 rounded hover:bg-pink-800">Update Profile</button>
        </form>

        <form action="/customer/uploadPicture" method="POST" enctype="multipart/form-data" class="mt-4">
          <input type="file" name="profilePicture" class="border w-full text-base px-2 py-1 mb-2 bg-gray-200">
          <button type="submit" class="bg-pink-400 text-white py-1 px-3 rounded hover:bg-pink-800">Upload Picture</button>
        </form>
        
        <form action="/customer/delete" method="POST" class="mt-4">
          <button type="submit" class="bg-red-500 text-white py-1 px-3 rounded hover:bg-red-800">Delete Profile</button>
        </form>
      </div>
    </div>

    

    <div class="mt-15">
      <form action="/customer/createOrder" method="GET">
      <button class="gap-4 bg-pink-400 text-white duration-500 px-6 py-2 mx-4 hover:bg-pink-800 rounded">Make Order</button>
      </form>
      <form action="" method="GET">
      <button class="gap-4 bg-pink-400 text-white duration-500 px-6 py-2 mx-4 hover:bg-pink-800 rounded">Order History</button>
      </form>
    </div>
  </div>

    <script src="/js/scripts.js"></script>
  </body>
</html>
